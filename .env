################################################################################
#                         SPINE ANALYZER CONFIGURATION                         #
################################################################################

#===============================================================================
# LOGGING CONFIGURATION
#===============================================================================
# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format (optional, uses default if not set)
# LOG_FORMAT=%(asctime)s [%(levelname)s] %(name)s: %(message)s

#===============================================================================
# ORTHANC PACS SERVER
#===============================================================================
# Orthanc server URL (use service name for Docker, localhost for local dev)
ORTHANC_URL= http://158.160.109.200:8042

# Orthanc authentication credentials
ORTHANC_USER=admin
ORTHANC_PASSWORD=mypassword

#===============================================================================
# TRITON INFERENCE SERVER
#===============================================================================
# Triton server URL (use service name for Docker, localhost for local dev)
TRITON_URL=triton:8001

# Triton timeout in seconds (optional)
# TRITON_TIMEOUT=300

#===============================================================================
# KAFKA CONFIGURATION (Optional - for async processing)
#===============================================================================
# Leave commented for REST API mode, uncomment for Kafka mode

# Kafka broker addresses (comma-separated)
#KAFKA_BOOTSTRAP_SERVERS=localhost:9092

# Kafka topic for study processing requests
#KAFKA_TOPIC=spine-analysis-requests

# Kafka consumer group ID
#KAFKA_GROUP_ID=spine-analyzer-group

# Kafka security protocol: PLAINTEXT, SSL, SASL_PLAINTEXT, SASL_SSL
#KAFKA_SECURITY_PROTOCOL=PLAINTEXT

# SSL/SASL authentication (if using SSL or SASL)
#KAFKA_SSL_CAFILE=/certs/ca.pem
#KAFKA_SSL_CERTFILE=/certs/cert.pem
#KAFKA_SSL_KEYFILE=/certs/key.pem
#KAFKA_SASL_MECHANISM=PLAIN
#KAFKA_SASL_USERNAME=
#KAFKA_SASL_PASSWORD=

#===============================================================================
# PROCESSING CONFIGURATION
#===============================================================================
# Number of worker threads for parallel processing
WORKERS=4

# Sagittal patch size for 3D segmentation [depth, height, width]
SAG_PATCH_SIZE=[128, 96, 96]

# Axial patch size for 2D segmentation [height, width]
AX_PATCH_SIZE=[224, 224]

# Morphological dilation kernel size for post-processing
DILATE_SIZE=5

# Label for spinal canal in segmentation
CANAL_LABEL=2

# Batch sizes for different models (adjust based on memory constraints)
# Segmentation models - use 1 for memory-constrained environments
SEG_SAG_STAGE_1_BATCH_SIZE=1
SEG_SAG_STAGE_2_BATCH_SIZE=1

# Grading model - can handle larger batches
GRADING_BATCH_SIZE=4

# General inference batch size (fallback)
INFERENCE_BATCH_SIZE=1

# Enable/disable GPU acceleration (true/false)
# USE_GPU=true

#===============================================================================
# PERFORMANCE TUNING
#===============================================================================
# Maximum number of studies to process concurrently
# MAX_CONCURRENT_STUDIES=2

# Memory limit per study in MB
# MEMORY_LIMIT_MB=4096

# Processing timeout per study in seconds
# STUDY_TIMEOUT=1800

#===============================================================================
# OUTPUT CONFIGURATION
#===============================================================================
# Enable/disable DICOM SR report generation
# GENERATE_SR_REPORT=true

# Enable/disable DICOM SC overlay images generation
# GENERATE_SC_IMAGES=true

# Maximum number of SC images to generate per study
# MAX_SC_IMAGES=50

# JPEG quality for SC images (1-100)
# SC_IMAGE_QUALITY=95

#===============================================================================
# DEBUG OPTIONS
#===============================================================================
# Enable debug mode (verbose logging, saves intermediate files)
# DEBUG_MODE=false

# Directory for debug output (if DEBUG_MODE=true)
# DEBUG_OUTPUT_DIR=/tmp/spine_analyzer_debug

# Save intermediate segmentation results
# SAVE_INTERMEDIATE_RESULTS=false

################################################################################
#                              END OF CONFIGURATION                            #
################################################################################